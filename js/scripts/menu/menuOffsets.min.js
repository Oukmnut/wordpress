!function(i){woodmartThemeModule.menuOffsets=function(){i(".wd-header-main-nav ul.menu > li, .wd-header-secondary-nav ul.menu > li, .widget_nav_mega_menu ul.menu:not(.wd-nav-vertical) > li, .wd-header-main-nav .wd-dropdown.wd-design-aside ul > li").each(function(){var e=i(this);function d(){e.hasClass("wd-offsets-calculated")||(e.find(" > .menu-item-has-children").each(function(){var e,d,s,o,n,a,t,w;e=i(this),a=e.find(" > .wd-dropdown-menu"),t=a.outerWidth(),w=a.offset(),a.attr("style",""),t&&w&&(a.hasClass("wd-design-full-width")||a.hasClass("wd-design-aside")?(s=woodmartThemeModule.$window.width(),woodmartThemeModule.$body.hasClass("rtl")?s<=(o=s-w.left-t)+t&&a.css({right:-(d=o+t-s)}):w.left+t>=s&&(d=w.left+t-s,a.css({left:-d}))):(a.hasClass("wd-design-sized")||a.hasClass("wd-design-default"))&&(s=woodmart_settings.site_width,o=(s=woodmartThemeModule.$window.width()<s||!s||e.parents(".whb-header").hasClass("whb-full-width")?woodmartThemeModule.$window.width():s)-w.left-t,e=(woodmartThemeModule.$window.width()-s)/2,woodmartThemeModule.$body.hasClass("rtl")?s<=(n=e+o)+t&&a.css({right:-(d=n+t-s)-15}):s<=(n=w.left-e)+t&&a.css({left:-(d=n+t-s)-15})))}),woodmartThemeModule.$document.trigger("resize.vcRowBehaviour"),e.addClass("wd-offsets-calculated"))}(e=e.hasClass("menu-item")?i(this).parent():e).on("mouseenter mousemove",function(){d()}),woodmartThemeModule.$window.on("wdHeaderBuilderStickyChanged",d),"yes"===woodmart_settings.clear_menu_offsets_on_resize&&setTimeout(function(){woodmartThemeModule.$window.on("resize",woodmartThemeModule.debounce(function(){e.removeClass("wd-offsets-calculated"),e.find(" > .menu-item-has-children > .wd-dropdown-menu").attr("style","")},300))},2e3)})},woodmartThemeModule.menuDropdownAside=function(){i(".wd-nav .wd-design-aside, .wd-header-cats.wd-open-dropdown .wd-nav").each(function(){var e,d=i(this).find(".menu-item");d.length&&((e=d.first()).hasClass("menu-item-has-children")||e.parents(".wd-sub-menu-wrapp").addClass("wd-empty-item"),e.addClass("wd-opened").find(".wd-dropdown").addClass("wd-opened"),d.on("mouseover",function(){var e=i(this),d=e.parents(".wd-sub-menu-wrapp");e.hasClass("wd-opened")||(e.hasClass("item-level-1")&&(e.hasClass("menu-item-has-children")?d.removeClass("wd-empty-item"):d.addClass("wd-empty-item")),e.siblings().removeClass("wd-opened").find(".wd-dropdown").removeClass("wd-opened"),e.addClass("wd-opened").find(".wd-dropdown").addClass("wd-opened"))}))})},woodmartThemeModule.$window.on("wdEventStarted",function(){woodmartThemeModule.menuDropdownAside(),woodmartThemeModule.menuOffsets()})}(jQuery);